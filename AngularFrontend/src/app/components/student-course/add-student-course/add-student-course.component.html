<form class="add-student-course-form row mb-3 g-3" (ngSubmit)="onSubmit()" [formGroup]="form">
  <div *ngIf="hasStudentRole" class="col-md-4 form-group">
    <label for="student" class="form-label control-label required">Student</label>
    <select name="student" class="form-control" id="student" [(ngModel)]="student" formControlName="student">
      <option *ngFor="let student of students" [ngValue]="student">{{student?.name}}</option>
    </select>
    <app-field-error-display
      [displayError]="isFieldValid('student')"
      errorMsg="Please choose student">
    </app-field-error-display>
  </div>

  <div *ngIf="hasStudentRole" class="col-md-4 form-group">
    <label for="course" class="form-label control-label required">Course</label>
    <select name="course" class="form-control" id="course" [(ngModel)]="course" formControlName="course">
      <option *ngFor="let course of courses" [ngValue]="course">{{course?.name}}</option>
    </select>
    <app-field-error-display
      [displayError]="isFieldValid('course')"
      errorMsg="Please choose course">
    </app-field-error-display>
  </div>

  <div *ngIf="hasAdminRole" class="col-md-4 form-group">
    <label for="grade" class="form-label control-label required">Grade</label>
    <input type="number" class="form-control" name="grade" id="grade" min="0" max="100" [(ngModel)]="grade"
           formControlName="grade"/>

    <app-field-error-display
      [displayError]="isFieldValid('grade')"
      errorMsg="Please enter a valid max grade (1-100)">
    </app-field-error-display>
  </div>

  <div *ngIf="hasAdminRole" class="col-md-4 form-group">
    <label for="review" class="form-label control-label required">Review</label>
    <input type="text" class="form-control" name="review" id="review" min="0" max="100" [(ngModel)]="review"
           formControlName="review"/>

    <app-field-error-display
      [displayError]="isFieldValid('review')"
      errorMsg="Please enter a valid max review">
    </app-field-error-display>
  </div>

  <div *ngIf="hasStudentRole" class="col-12">
    <button type="submit" class="btn btn-primary mr-lg-4" [disabled]="!form.valid">Add</button>
    <button class="btn btn-secondary" (click)="reset()">Reset</button>
  </div>
</form>

